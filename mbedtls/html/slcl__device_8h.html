<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>mbed TLS v2.2.0: slcl_device.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mbed TLS v2.2.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="../../index.html"><span>Documentation&#160;Home</span></a></li>
      <li><a href="http://www.silabs.com"><span>silabs.com</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_23ec12649285f9fabf3a6b7380226c28.html">util</a></li><li class="navelem"><a class="el" href="dir_ac655dac275e92e155b3b8154f8d56ac.html">third_party</a></li><li class="navelem"><a class="el" href="dir_82ed8909db942c5e5a6d4c509258108c.html">mbedtls</a></li><li class="navelem"><a class="el" href="dir_ae2270d1e57a21a6ffb553afdc53c7e0.html">sl_crypto</a></li><li class="navelem"><a class="el" href="dir_db046b9af4d0189e5d485b88455ba451.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">slcl_device.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="config-sl-crypto-all-acceleration_8h_source.html">config-sl-crypto-all-acceleration.h</a>&gt;</code><br />
<code>#include &quot;em_device.h&quot;</code><br />
<code>#include &quot;<a class="el" href="mbedtls__ecode_8h_source.html">mbedtls_ecode.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="slpal_8h_source.html">slpal.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for slcl_device.h:</div>
<div class="dyncontent">
<div class="center"><img src="slcl__device_8h__incl.png" border="0" usemap="#slcl__device_8h" alt=""/></div>
<map name="slcl__device_8h" id="slcl__device_8h">
<area shape="rect" id="node3" href="config-sl-crypto-all-acceleration_8h.html" title="config&#45;sl&#45;crypto&#45;all\l&#45;acceleration.h" alt="" coords="111,230,237,271"/>
<area shape="rect" id="node15" href="mbedtls__ecode_8h.html" title="Silicon Labs specific mbedtls error code definitions. " alt="" coords="633,320,753,347"/>
<area shape="rect" id="node17" href="slpal_8h.html" title="slpal.h" alt="" coords="213,80,272,107"/>
<area shape="rect" id="node7" href="config_8h.html" title="Compatibility names (set of defines) " alt="" coords="124,320,241,347"/>
<area shape="rect" id="node9" href="check__config_8h.html" title="Consistency checks for configuration options. " alt="" coords="176,395,285,421"/>
<area shape="rect" id="node20" href="slpal__baremetal_8h.html" title="slpal_baremetal.h" alt="" coords="315,155,439,181"/>
<area shape="rect" id="node23" href="slpal__common_8h.html" title="slpal_common.h" alt="" coords="587,237,704,264"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="slcl__device_8h__dep__incl.png" border="0" usemap="#slcl__device_8hdep" alt=""/></div>
<map name="slcl__device_8hdep" id="slcl__device_8hdep">
<area shape="rect" id="node3" href="cryptodrv_8h.html" title="cryptodrv.h" alt="" coords="11,80,96,107"/>
<area shape="rect" id="node5" href="aesdrv_8h.html" title="Definitions for AES based ciphers with CRYPTO hw acceleration. " alt="" coords="18,155,88,181"/>
</map>
</div>
</div>
<p><a href="slcl__device_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmbedtls__device__context.html">mbedtls_device_context</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device context structure.  <a href="structmbedtls__device__context.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa2566d46b2e8fe301edd7fbf27ceaf91"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="slcl__device_8h.html#aa2566d46b2e8fe301edd7fbf27ceaf91">MBEDTLS_ERR_DEVICE_NOT_SUPPORTED</a>&#160;&#160;&#160;((int)<a class="el" href="mbedtls__ecode_8h.html#ae378bf0951afb39536a436faadf38e42">MBEDTLS_ERR_DEVICE_BASE</a> | 0x1)</td></tr>
<tr class="separator:aa2566d46b2e8fe301edd7fbf27ceaf91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d4d1546103d966327c3d97c264151d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="slcl__device_8h.html#aa7d4d1546103d966327c3d97c264151d">MBEDTLS_DEVICE_COUNT</a>&#160;&#160;&#160;CRYPTO_COUNT</td></tr>
<tr class="separator:aa7d4d1546103d966327c3d97c264151d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7830a8492cebd4779c45b9080919ecf0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="slcl__device_8h.html#a7830a8492cebd4779c45b9080919ecf0">mbedtls_device_init</a> (<a class="el" href="structmbedtls__device__context.html">mbedtls_device_context</a> *ctx)</td></tr>
<tr class="memdesc:a7830a8492cebd4779c45b9080919ecf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize an mbedtls device context.  <a href="#a7830a8492cebd4779c45b9080919ecf0">More...</a><br /></td></tr>
<tr class="separator:a7830a8492cebd4779c45b9080919ecf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6eb48145f44b103cd7fe12c38a14e07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="slcl__device_8h.html#aa6eb48145f44b103cd7fe12c38a14e07">mbedtls_device_free</a> (<a class="el" href="structmbedtls__device__context.html">mbedtls_device_context</a> *ctx)</td></tr>
<tr class="memdesc:aa6eb48145f44b103cd7fe12c38a14e07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free an mbedtls device context.  <a href="#aa6eb48145f44b103cd7fe12c38a14e07">More...</a><br /></td></tr>
<tr class="separator:aa6eb48145f44b103cd7fe12c38a14e07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acccc25acfe524aa7e8af6f85f600930e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="slcl__device_8h.html#acccc25acfe524aa7e8af6f85f600930e">mbedtls_device_set_instance</a> (<a class="el" href="structmbedtls__device__context.html">mbedtls_device_context</a> *ctx, unsigned int devno)</td></tr>
<tr class="memdesc:acccc25acfe524aa7e8af6f85f600930e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the device instance of an mbedtls device context.  <a href="#acccc25acfe524aa7e8af6f85f600930e">More...</a><br /></td></tr>
<tr class="separator:acccc25acfe524aa7e8af6f85f600930e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab7f5e81f2fd4a8acc998cf5233a6aeff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmbedtls__device__context.html">mbedtls_device_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="slcl__device_8h.html#ab7f5e81f2fd4a8acc998cf5233a6aeff">p_mbedtls_device_context</a> [<a class="el" href="slcl__device_8h.html#aa7d4d1546103d966327c3d97c264151d">MBEDTLS_DEVICE_COUNT</a>]</td></tr>
<tr class="separator:ab7f5e81f2fd4a8acc998cf5233a6aeff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aa7d4d1546103d966327c3d97c264151d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MBEDTLS_DEVICE_COUNT&#160;&#160;&#160;CRYPTO_COUNT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="slcl__device_8h_source.html#l00059">59</a> of file <a class="el" href="slcl__device_8h_source.html">slcl_device.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa2566d46b2e8fe301edd7fbf27ceaf91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MBEDTLS_ERR_DEVICE_NOT_SUPPORTED&#160;&#160;&#160;((int)<a class="el" href="mbedtls__ecode_8h.html#ae378bf0951afb39536a436faadf38e42">MBEDTLS_ERR_DEVICE_BASE</a> | 0x1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="slcl__device_8h_source.html#l00052">52</a> of file <a class="el" href="slcl__device_8h_source.html">slcl_device.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa6eb48145f44b103cd7fe12c38a14e07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mbedtls_device_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmbedtls__device__context.html">mbedtls_device_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free an mbedtls device context. </p>
<p>This function frees the resources kept by an mbedtls device context, and removes the pointer to the mbedtls context from the internal device table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>mbedtls device context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7830a8492cebd4779c45b9080919ecf0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mbedtls_device_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmbedtls__device__context.html">mbedtls_device_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize an mbedtls device context. </p>
<p>This function initializes an mbedtls device context. By default the mbedtls_device_init function is called internally in order for backwards compatibility. However the internal initialization consumes some RAM because the device structures are instantiated statically inside the mbedTLS library. The user application may define MBEDTLS_DEVICE_INIT_INTERNAL_DISABLE in order to disable the internal device initialization, and take responsibility of allocating and initializing the device context structures itself. If MBEDTLS_DEVICE_INIT_INTERNAL_DISABLE is defined the user application is required to call mbedtls_device_init and <a class="el" href="slcl__device_8h.html#acccc25acfe524aa7e8af6f85f600930e">mbedtls_device_set_instance</a> before any subsequent calls to mbedtls APIs involving SLCL plugins. The <a class="el" href="slcl__device_8h.html#acccc25acfe524aa7e8af6f85f600930e">mbedtls_device_set_instance</a> function will store a pointer to the mbedtls context in the internal device table in in order to retrieve context and corresponding attributes in subsequent calls to mbedtls.</p>
<dl class="section note"><dt>Note</dt><dd>The user should only initialize one mbedtls device context per CRYPTO/AES hardware device.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>mbedtls device context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acccc25acfe524aa7e8af6f85f600930e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mbedtls_device_set_instance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmbedtls__device__context.html">mbedtls_device_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>devno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the device instance of an mbedtls device context. </p>
<p>This function sets the AES/CRYPTO device instance of an mbedtls device context. Subsequent calls to API functions with this context will use the given AES/CRYPTO device instance. <a class="el" href="slcl__device_8h.html#acccc25acfe524aa7e8af6f85f600930e">mbedtls_device_set_instance</a> will store a pointer to the mbedtls context in the internal device table in in order to retrieve context and corresponding attributes in subsequent calls to mbedtls. By default the mbedtls_device_set_instance function is called internally for backwards compatibility, and the user application will not need to call mbedtls_device_set_instance. If MBEDTLS_DEVICE_INIT_INTERNAL_DISABLE is defined the user is required to call <a class="el" href="slcl__device_8h.html#a7830a8492cebd4779c45b9080919ecf0">mbedtls_device_init</a> and <a class="el" href="slcl__device_8h.html#acccc25acfe524aa7e8af6f85f600930e">mbedtls_device_set_instance</a> before any other mbedTLS API calls in order to initialize the CRYPTO device context structure(s) (<a class="el" href="structmbedtls__device__context.html">mbedtls_device_context</a>) Please refer to <a class="el" href="slcl__device_8h.html#a7830a8492cebd4779c45b9080919ecf0">mbedtls_device_init</a> for more information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>mbedtls device context.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">devno</td><td>AES/CRYPTO hardware device instance to use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if success. Error code if failure. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ab7f5e81f2fd4a8acc998cf5233a6aeff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmbedtls__device__context.html">mbedtls_device_context</a>* p_mbedtls_device_context[<a class="el" href="slcl__device_8h.html#aa7d4d1546103d966327c3d97c264151d">MBEDTLS_DEVICE_COUNT</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 9 2017 20:48:04 for mbed TLS v2.2.0 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
