<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>EFM32 Wonder Gecko Software Documentation: D:/jenkins-slave/workspaces/Executor-0/super/hardware/kit/common/bsp/thunderboard/si1133.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EFM32 Wonder Gecko Software Documentation
   &#160;<span id="projectnumber">efm32wg-doc-5.1.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="../../index.html"><span>Documentation&#160;Home</span></a></li>
      <li><a href="http://www.silabs.com"><span>silabs.com</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('si1133_8c_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">si1133.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="si1133_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="i2cspm_8h.html">i2cspm.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="util_8h.html">thunderboard/util.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="board_8h.html">thunderboard/board.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="si1133_8h.html">thunderboard/si1133.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">static</span> <a class="code" href="structSI1133__LuxCoeff__TypeDef.html">SI1133_LuxCoeff_TypeDef</a> lk = {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      { {     0,   209 },     </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        {  1665,    93 },     </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        {  2064,    65 },     </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        { -2671,   234 } },   </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      { {     0,     0 },     </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        {  1921, 29053 },     </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        { -1022, 36363 },     </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        {  2320, 20789 },     </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        {  -367, 57909 },     </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        { -1774, 38240 },     </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        {  -608, 46775 },     </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        { -1503, 51831 },     </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        { -1886, 58928 } }    </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;};</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keyword">static</span> <a class="code" href="structSI1133__Coeff__TypeDef.html">SI1133_Coeff_TypeDef</a> uk[2] = {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      { 1281, 30902 },        </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      { -638, 46301 }         </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;};</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">static</span> int32_t SI1133_calcPolyInner ( int32_t input, int8_t fraction, uint16_t mag, int8_t  shift );</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">static</span> int32_t SI1133_calcEvalPoly  ( int32_t x, int32_t y, uint8_t input_fraction, uint8_t output_fraction, uint8_t num_coeff, <a class="code" href="structSI1133__Coeff__TypeDef.html">SI1133_Coeff_TypeDef</a> *kp );</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#ga0a497f2bc99c7119bfbd1d1f505e0b72">  100</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#ga0a497f2bc99c7119bfbd1d1f505e0b72">SI1133_registerRead</a>( uint8_t reg, uint8_t *data )</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;{</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;   <a class="code" href="structI2C__TransferSeq__TypeDef.html">I2C_TransferSeq_TypeDef</a> seq;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   <a class="code" href="group__I2C.html#ga7c781ec28ae11e3e28892de7aa07a00f">I2C_TransferReturn_TypeDef</a> ret;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   uint8_t i2c_write_data[1];</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   uint32_t retval;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   retval = <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a864fcee4abd27c2dab5723c2d2493ed0">addr</a> = <a class="code" href="group__SI1133__Config__Settings.html#gab47434c1437803eb9e9f854e61dc5ebb">SI1133_I2C_DEVICE_BUS_ADDRESS</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#aa9eb709e67fbaa4acb9a4964ca5174cb">flags</a> = <a class="code" href="group__I2C.html#gaf9fc47d6ee1c66405dc491f7a4c3b8fc">I2C_FLAG_WRITE_READ</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   <span class="comment">/* Select register to start reading from */</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   i2c_write_data[0] = reg;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[0].<a class="code" href="structI2C__TransferSeq__TypeDef.html#ac50f3e038b429e01fd5b2bdfede2f674">data</a> = i2c_write_data;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[0].<a class="code" href="structI2C__TransferSeq__TypeDef.html#a92b6d16d6d3b3e4d5650740fa306a285">len</a> = 1;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   <span class="comment">/* Select length of data to be read */</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[1].<a class="code" href="structI2C__TransferSeq__TypeDef.html#ac50f3e038b429e01fd5b2bdfede2f674">data</a> = data;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[1].<a class="code" href="structI2C__TransferSeq__TypeDef.html#a92b6d16d6d3b3e4d5650740fa306a285">len</a> = 1;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;   ret = <a class="code" href="group__I2CSPM.html#ga076766b20012fb6a0cdaaf0f2c760795">I2CSPM_Transfer</a>( <a class="code" href="group__SI1133__Config__Settings.html#ga13e80099498c10c2f7908107364ec300">SI1133_I2C_DEVICE</a>, &amp;seq );</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;   <span class="keywordflow">if</span>( ret != <a class="code" href="group__I2C.html#gga7c781ec28ae11e3e28892de7aa07a00fa01149f9a11ada8a9b05e7104f873de66">i2cTransferDone</a> ) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      *data = 0xff;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      retval = <a class="code" href="group__SI1133__Error__Messages.html#ga20749b9438f2c41659d91a8c2596fea5">SI1133_ERROR_I2C_TRANSACTION_FAILED</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;   }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;   <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#ga09176007513c3f6aa9b47c886a7d80ef">  143</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#ga09176007513c3f6aa9b47c886a7d80ef">SI1133_registerWrite</a>( uint8_t reg, uint8_t data )</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   <a class="code" href="structI2C__TransferSeq__TypeDef.html">I2C_TransferSeq_TypeDef</a> seq;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   <a class="code" href="group__I2C.html#ga7c781ec28ae11e3e28892de7aa07a00f">I2C_TransferReturn_TypeDef</a> ret;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   uint8_t i2c_write_data[2];</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   uint8_t i2c_read_data[1];</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   uint32_t retval;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   retval = <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a864fcee4abd27c2dab5723c2d2493ed0">addr</a> = <a class="code" href="group__SI1133__Config__Settings.html#gab47434c1437803eb9e9f854e61dc5ebb">SI1133_I2C_DEVICE_BUS_ADDRESS</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#aa9eb709e67fbaa4acb9a4964ca5174cb">flags</a> = <a class="code" href="group__I2C.html#ga091476f45133e8a6deb9dbd7a3ea6229">I2C_FLAG_WRITE</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   <span class="comment">/* Select register and data to write */</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   i2c_write_data[0] = reg;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   i2c_write_data[1] = data;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[0].<a class="code" href="structI2C__TransferSeq__TypeDef.html#ac50f3e038b429e01fd5b2bdfede2f674">data</a> = i2c_write_data;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[0].<a class="code" href="structI2C__TransferSeq__TypeDef.html#a92b6d16d6d3b3e4d5650740fa306a285">len</a> = 2;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[1].<a class="code" href="structI2C__TransferSeq__TypeDef.html#ac50f3e038b429e01fd5b2bdfede2f674">data</a> = i2c_read_data;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[1].<a class="code" href="structI2C__TransferSeq__TypeDef.html#a92b6d16d6d3b3e4d5650740fa306a285">len</a> = 0;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   ret = <a class="code" href="group__I2CSPM.html#ga076766b20012fb6a0cdaaf0f2c760795">I2CSPM_Transfer</a>( <a class="code" href="group__SI1133__Config__Settings.html#ga13e80099498c10c2f7908107364ec300">SI1133_I2C_DEVICE</a>, &amp;seq );</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   <span class="keywordflow">if</span>( ret != <a class="code" href="group__I2C.html#gga7c781ec28ae11e3e28892de7aa07a00fa01149f9a11ada8a9b05e7104f873de66">i2cTransferDone</a> ) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      retval = <a class="code" href="group__SI1133__Error__Messages.html#ga20749b9438f2c41659d91a8c2596fea5">SI1133_ERROR_I2C_TRANSACTION_FAILED</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#gad9c7a541cd5628c7badf7f3dd83fd74f">  189</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#gad9c7a541cd5628c7badf7f3dd83fd74f">SI1133_registerBlockWrite</a>( uint8_t reg, uint8_t length, uint8_t *data )</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;{</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   <a class="code" href="structI2C__TransferSeq__TypeDef.html">I2C_TransferSeq_TypeDef</a> seq;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   <a class="code" href="group__I2C.html#ga7c781ec28ae11e3e28892de7aa07a00f">I2C_TransferReturn_TypeDef</a> ret;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   uint8_t i2c_write_data[10];</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;   uint8_t i2c_read_data[1];</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   uint8_t i;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   uint32_t retval;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   retval = <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a864fcee4abd27c2dab5723c2d2493ed0">addr</a> = <a class="code" href="group__SI1133__Config__Settings.html#gab47434c1437803eb9e9f854e61dc5ebb">SI1133_I2C_DEVICE_BUS_ADDRESS</a>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#aa9eb709e67fbaa4acb9a4964ca5174cb">flags</a> = <a class="code" href="group__I2C.html#ga091476f45133e8a6deb9dbd7a3ea6229">I2C_FLAG_WRITE</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;   <span class="comment">/* Select register to start writing to*/</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   i2c_write_data[0] = reg;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <span class="keywordflow">for</span>( i = 0; i &lt; length; i++ ) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      i2c_write_data[i + 1] = data[i];</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[0].<a class="code" href="structI2C__TransferSeq__TypeDef.html#ac50f3e038b429e01fd5b2bdfede2f674">data</a> = i2c_write_data;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[0].<a class="code" href="structI2C__TransferSeq__TypeDef.html#a92b6d16d6d3b3e4d5650740fa306a285">len</a> = length + 1;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[1].<a class="code" href="structI2C__TransferSeq__TypeDef.html#ac50f3e038b429e01fd5b2bdfede2f674">data</a> = i2c_read_data;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[1].<a class="code" href="structI2C__TransferSeq__TypeDef.html#a92b6d16d6d3b3e4d5650740fa306a285">len</a> = 0;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   ret = <a class="code" href="group__I2CSPM.html#ga076766b20012fb6a0cdaaf0f2c760795">I2CSPM_Transfer</a>( <a class="code" href="group__SI1133__Config__Settings.html#ga13e80099498c10c2f7908107364ec300">SI1133_I2C_DEVICE</a>, &amp;seq );</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   <span class="keywordflow">if</span>( ret != <a class="code" href="group__I2C.html#gga7c781ec28ae11e3e28892de7aa07a00fa01149f9a11ada8a9b05e7104f873de66">i2cTransferDone</a> ) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      retval = <a class="code" href="group__SI1133__Error__Messages.html#ga20749b9438f2c41659d91a8c2596fea5">SI1133_ERROR_I2C_TRANSACTION_FAILED</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#ga4e3ed1cdf79dd1101efd6e1f3f21bbf6">  238</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#ga4e3ed1cdf79dd1101efd6e1f3f21bbf6">SI1133_registerBlockRead</a>( uint8_t reg, uint8_t length, uint8_t *data )</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   <a class="code" href="structI2C__TransferSeq__TypeDef.html">I2C_TransferSeq_TypeDef</a> seq;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   <a class="code" href="group__I2C.html#ga7c781ec28ae11e3e28892de7aa07a00f">I2C_TransferReturn_TypeDef</a> ret;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   uint8_t i2c_write_data[1];</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   uint32_t retval;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   retval = <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a864fcee4abd27c2dab5723c2d2493ed0">addr</a> = <a class="code" href="group__SI1133__Config__Settings.html#gab47434c1437803eb9e9f854e61dc5ebb">SI1133_I2C_DEVICE_BUS_ADDRESS</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#aa9eb709e67fbaa4acb9a4964ca5174cb">flags</a> = <a class="code" href="group__I2C.html#gaf9fc47d6ee1c66405dc491f7a4c3b8fc">I2C_FLAG_WRITE_READ</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   <span class="comment">/* Select register to start reading from */</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   i2c_write_data[0] = reg;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[0].<a class="code" href="structI2C__TransferSeq__TypeDef.html#ac50f3e038b429e01fd5b2bdfede2f674">data</a> = i2c_write_data;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[0].<a class="code" href="structI2C__TransferSeq__TypeDef.html#a92b6d16d6d3b3e4d5650740fa306a285">len</a> = 1;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   <span class="comment">/* Select length of data to be read */</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[1].<a class="code" href="structI2C__TransferSeq__TypeDef.html#ac50f3e038b429e01fd5b2bdfede2f674">data</a> = data;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   seq.<a class="code" href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">buf</a>[1].<a class="code" href="structI2C__TransferSeq__TypeDef.html#a92b6d16d6d3b3e4d5650740fa306a285">len</a> = length;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   ret = <a class="code" href="group__I2CSPM.html#ga076766b20012fb6a0cdaaf0f2c760795">I2CSPM_Transfer</a>( <a class="code" href="group__SI1133__Config__Settings.html#ga13e80099498c10c2f7908107364ec300">SI1133_I2C_DEVICE</a>, &amp;seq );</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   <span class="keywordflow">if</span>( ret != <a class="code" href="group__I2C.html#gga7c781ec28ae11e3e28892de7aa07a00fa01149f9a11ada8a9b05e7104f873de66">i2cTransferDone</a> ) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      retval = <a class="code" href="group__SI1133__Error__Messages.html#ga20749b9438f2c41659d91a8c2596fea5">SI1133_ERROR_I2C_TRANSACTION_FAILED</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;}</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#gac694fcb552b3a25ed6505cb85aa2edbc">  274</a></span>&#160;<span class="keyword">static</span> uint32_t <a class="code" href="group__Si1133__Functions.html#gac694fcb552b3a25ed6505cb85aa2edbc">SI1133_waitUntilSleep</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;{</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   uint32_t ret;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   uint8_t response;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   uint8_t count = 0;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   uint32_t retval;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   retval = <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   <span class="comment">/* This loops until the Si1133 is known to be in its sleep state  */</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <span class="comment">/* or if an i2c error occurs                                      */</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;   <span class="keywordflow">while</span>( count &lt; 5 )</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;   {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      ret = <a class="code" href="group__Si1133__Functions.html#ga0a497f2bc99c7119bfbd1d1f505e0b72">SI1133_registerRead</a>( <a class="code" href="group__SI1133__I2C__Regs.html#ga7ad4444836307c4d67bd4f8df8754e97">SI1133_REG_RESPONSE0</a>, &amp;response );</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">if</span>( ( response &amp; <a class="code" href="group__SI1133__Mask.html#ga034b9aaa4352f705fd892c93e8b44c20">SI1133_RSP0_CHIPSTAT_MASK</a> ) == <a class="code" href="group__SI1133__Mask.html#ga5c5fa6e8ea0a8d2d28e71eeeabfddf75">SI1133_RSP0_SLEEP</a> ) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;         <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="keywordflow">if</span>( ret != <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a> ) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;         retval = <a class="code" href="group__SI1133__Error__Messages.html#ga7838493740f6b650060b19156ed2e1a2">SI1133_ERROR_SLEEP_FAILED</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;         <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      count++;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;   <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#gacd28bea0163cda6082ae63ca2256ea09">  312</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#gacd28bea0163cda6082ae63ca2256ea09">SI1133_reset</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;{</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   uint32_t retval;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;   <span class="comment">/* Do not access the Si1133 earlier than 25 ms from power-up */</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   <a class="code" href="group__Util__Functions.html#ga8d91c207f47d8992b40f1d02a1cb0f38">UTIL_delay</a>( 30 );</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <span class="comment">/* Perform the Reset Command */</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   retval = <a class="code" href="group__Si1133__Functions.html#ga09176007513c3f6aa9b47c886a7d80ef">SI1133_registerWrite</a>( <a class="code" href="group__SI1133__I2C__Regs.html#ga90d2a0ecadf5724e06b9c5937e921b75">SI1133_REG_COMMAND</a>, <a class="code" href="group__SI1133__Commands.html#gab24df6d2bce920d10b19a02e24e4ed27">SI1133_CMD_RESET</a> );</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   <span class="comment">/* Delay for 10 ms. This delay is needed to allow the Si1133   */</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <span class="comment">/* to perform internal reset sequence.                         */</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;   <a class="code" href="group__Util__Functions.html#ga8d91c207f47d8992b40f1d02a1cb0f38">UTIL_delay</a>( 10 );</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#ga25d29f15cc2ef5080c943e5ef7847cc3">  341</a></span>&#160;<span class="keyword">static</span> uint32_t <a class="code" href="group__Si1133__Functions.html#ga25d29f15cc2ef5080c943e5ef7847cc3">SI1133_sendCmd</a>( uint8_t command )</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;{</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   uint8_t response;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   uint8_t response_stored;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;   uint8_t count = 0;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   uint32_t ret;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   <span class="comment">/* Get the response register contents */</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   ret = <a class="code" href="group__Si1133__Functions.html#ga0a497f2bc99c7119bfbd1d1f505e0b72">SI1133_registerRead</a>( <a class="code" href="group__SI1133__I2C__Regs.html#ga7ad4444836307c4d67bd4f8df8754e97">SI1133_REG_RESPONSE0</a>, &amp;response_stored );</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;   <span class="keywordflow">if</span>( ret != <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a> ) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;   response_stored = response_stored &amp; <a class="code" href="group__SI1133__Mask.html#ga9ffcc47797a0dae82cd57a77e45d32c5">SI1133_RSP0_COUNTER_MASK</a>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;   <span class="comment">/* Double-check the response register is consistent */</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   <span class="keywordflow">while</span>( count &lt; 5 ) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      ret = <a class="code" href="group__Si1133__Functions.html#gac694fcb552b3a25ed6505cb85aa2edbc">SI1133_waitUntilSleep</a>();</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="keywordflow">if</span>( ret != <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a> ) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;         <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="comment">/* Skip if the command is RESET COMMAND COUNTER */</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordflow">if</span>( command == <a class="code" href="group__SI1133__Commands.html#gae6024493020546b00f8cce0beccdf0be">SI1133_CMD_RESET_CMD_CTR</a> ) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;         <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      ret = <a class="code" href="group__Si1133__Functions.html#ga0a497f2bc99c7119bfbd1d1f505e0b72">SI1133_registerRead</a>( <a class="code" href="group__SI1133__I2C__Regs.html#ga7ad4444836307c4d67bd4f8df8754e97">SI1133_REG_RESPONSE0</a>, &amp;response );</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="keywordflow">if</span>( ( response &amp; SI1133_RSP0_COUNTER_MASK ) == response_stored ) {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;         <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;         <span class="keywordflow">if</span>( ret != <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a> ) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;         }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;         <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            response_stored = response &amp; <a class="code" href="group__SI1133__Mask.html#ga9ffcc47797a0dae82cd57a77e45d32c5">SI1133_RSP0_COUNTER_MASK</a>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;         }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      count++;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;   }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   <span class="comment">/* Send the command */</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   ret = <a class="code" href="group__Si1133__Functions.html#ga09176007513c3f6aa9b47c886a7d80ef">SI1133_registerWrite</a>( <a class="code" href="group__SI1133__I2C__Regs.html#ga90d2a0ecadf5724e06b9c5937e921b75">SI1133_REG_COMMAND</a>, command );</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;   <span class="keywordflow">if</span>( ret != <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a> ) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;   }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   count = 0;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   <span class="comment">/* Expect a change in the response register */</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   <span class="keywordflow">while</span>( count &lt; 5 )</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;   {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="comment">/* Skip if the command is RESET COMMAND COUNTER */</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="keywordflow">if</span>( command == <a class="code" href="group__SI1133__Commands.html#gae6024493020546b00f8cce0beccdf0be">SI1133_CMD_RESET_CMD_CTR</a> ) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;         <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      ret = <a class="code" href="group__Si1133__Functions.html#ga0a497f2bc99c7119bfbd1d1f505e0b72">SI1133_registerRead</a>( <a class="code" href="group__SI1133__I2C__Regs.html#ga7ad4444836307c4d67bd4f8df8754e97">SI1133_REG_RESPONSE0</a>, &amp;response );</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <span class="keywordflow">if</span>( ( response &amp; SI1133_RSP0_COUNTER_MASK ) != response_stored ) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;         <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;         <span class="keywordflow">if</span>( ret != <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a> ) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;         }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      count++;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;   }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;}</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#ga50f561c2b5e41f9a5f0fe6a86f879571">  424</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#ga50f561c2b5e41f9a5f0fe6a86f879571">SI1133_resetCmdCtr</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;{</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="group__Si1133__Functions.html#ga25d29f15cc2ef5080c943e5ef7847cc3">SI1133_sendCmd</a>( <a class="code" href="group__SI1133__Commands.html#gae6024493020546b00f8cce0beccdf0be">SI1133_CMD_RESET_CMD_CTR</a> );</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#ga9cc078ead4cc9630f8f865a3033e8ea1">  438</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#ga9cc078ead4cc9630f8f865a3033e8ea1">SI1133_measurementForce</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;{</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="group__Si1133__Functions.html#ga25d29f15cc2ef5080c943e5ef7847cc3">SI1133_sendCmd</a>( <a class="code" href="group__SI1133__Commands.html#ga5e4b43179ebf9e4dc62c419532bca147">SI1133_CMD_FORCE_CH</a> );</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#gad325078d36b0f1f95fafec4abe0b7d0b">  452</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#gad325078d36b0f1f95fafec4abe0b7d0b">SI1133_measurementStart</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;{</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="group__Si1133__Functions.html#ga25d29f15cc2ef5080c943e5ef7847cc3">SI1133_sendCmd</a>( <a class="code" href="group__SI1133__Commands.html#ga9088b4044bad83a93978c5f6d1b90c3f">SI1133_CMD_START</a> );</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;}</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#ga2d6c66ba40f3fb59bc83372acf4732f8">  469</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#ga2d6c66ba40f3fb59bc83372acf4732f8">SI1133_paramRead</a>( uint8_t address )</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;{</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   uint8_t retval;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   uint8_t cmd;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;   cmd = 0x40 + ( address &amp; 0x3F );</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;   retval = <a class="code" href="group__Si1133__Functions.html#ga25d29f15cc2ef5080c943e5ef7847cc3">SI1133_sendCmd</a>( cmd );</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;   <span class="keywordflow">if</span>( retval != <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a> ) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   <a class="code" href="group__Si1133__Functions.html#ga0a497f2bc99c7119bfbd1d1f505e0b72">SI1133_registerRead</a>( <a class="code" href="group__SI1133__I2C__Regs.html#ga0f5a815502e14969c6e189cfc71324d0">SI1133_REG_RESPONSE1</a>, &amp;retval );</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;   <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">  509</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a>( uint8_t address, uint8_t value )</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;   uint32_t retval;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   uint8_t buffer[2];</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;   uint8_t response_stored;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;   uint8_t response;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;   uint8_t count;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;   retval = <a class="code" href="group__Si1133__Functions.html#gac694fcb552b3a25ed6505cb85aa2edbc">SI1133_waitUntilSleep</a>();</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;   <span class="keywordflow">if</span>( retval != <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a> ) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   <a class="code" href="group__Si1133__Functions.html#ga0a497f2bc99c7119bfbd1d1f505e0b72">SI1133_registerRead</a>( <a class="code" href="group__SI1133__I2C__Regs.html#ga7ad4444836307c4d67bd4f8df8754e97">SI1133_REG_RESPONSE0</a>, &amp;response_stored );</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;   response_stored &amp;= <a class="code" href="group__SI1133__Mask.html#ga9ffcc47797a0dae82cd57a77e45d32c5">SI1133_RSP0_COUNTER_MASK</a>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   buffer[0] = value;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;   buffer[1] = 0x80 + ( address &amp; 0x3F );</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;   retval = <a class="code" href="group__Si1133__Functions.html#gad9c7a541cd5628c7badf7f3dd83fd74f">SI1133_registerBlockWrite</a>( <a class="code" href="group__SI1133__I2C__Regs.html#ga6f82230fbc97b56a16932f13475cae75">SI1133_REG_HOSTIN0</a>, 2, (uint8_t*) buffer );</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;   <span class="keywordflow">if</span>( retval != <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a> ) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;   }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;   <span class="comment">/* Wait for command to finish */</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;   count = 0;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;   <span class="comment">/* Expect a change in the response register */</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;   <span class="keywordflow">while</span>( count &lt; 5 )</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      retval = <a class="code" href="group__Si1133__Functions.html#ga0a497f2bc99c7119bfbd1d1f505e0b72">SI1133_registerRead</a>( <a class="code" href="group__SI1133__I2C__Regs.html#ga7ad4444836307c4d67bd4f8df8754e97">SI1133_REG_RESPONSE0</a>, &amp;response );</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <span class="keywordflow">if</span>( ( response &amp; <a class="code" href="group__SI1133__Mask.html#ga9ffcc47797a0dae82cd57a77e45d32c5">SI1133_RSP0_COUNTER_MASK</a> ) != response_stored ) {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;         <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;         <span class="keywordflow">if</span>( retval != <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a> ) {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;         }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      count++;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00564"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#ga5997ee9ee8b42e71c0627052001dc93a">  564</a></span>&#160;<span class="keyword">static</span> uint32_t <a class="code" href="group__Si1133__Functions.html#ga5997ee9ee8b42e71c0627052001dc93a">SI1133_measurementPause</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;{</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="group__Si1133__Functions.html#ga25d29f15cc2ef5080c943e5ef7847cc3">SI1133_sendCmd</a>( <a class="code" href="group__SI1133__Commands.html#gacccb3d279397dac2480abbf70ca20e01">SI1133_CMD_PAUSE_CH</a> );</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;}</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">/**************************************************************************/</span></div>
<div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#ga00900e2ef57db16983d71946d5c874ae">  578</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#ga00900e2ef57db16983d71946d5c874ae">SI1133_init</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;{</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;   uint32_t retval;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;   <span class="comment">/* Enable power to the sensor */</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;   <a class="code" href="group__BOARD__Functions.html#ga47b58f2a45201583b96f542353d4fdf9">BOARD_envSensEnable</a>( <span class="keyword">true</span> );</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;   <span class="comment">/* Allow some time for the part to power up */</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;   <a class="code" href="group__Util__Functions.html#ga8d91c207f47d8992b40f1d02a1cb0f38">UTIL_delay</a>( 5 );</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;   retval = <a class="code" href="group__Si1133__Functions.html#gacd28bea0163cda6082ae63ca2256ea09">SI1133_reset</a>();</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   <a class="code" href="group__Util__Functions.html#ga8d91c207f47d8992b40f1d02a1cb0f38">UTIL_delay</a>( 10 );</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a>( <a class="code" href="group__SI1133__I2C__Params.html#gac06518fa5c457741a106e7febcf1991f">SI1133_PARAM_CH_LIST</a>, 0x0f );</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a>( <a class="code" href="group__SI1133__I2C__Params.html#gaea881b9cee15235774456633d625f4a0">SI1133_PARAM_ADCCONFIG0</a>, 0x78 );</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a>( <a class="code" href="group__SI1133__I2C__Params.html#ga884372117a985d5d774bcb6698546242">SI1133_PARAM_ADCSENS0</a>, 0x71 );</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a>( <a class="code" href="group__SI1133__I2C__Params.html#gac07c0b8281bcddd5afa5e58298c47315">SI1133_PARAM_ADCPOST0</a>, 0x40 );</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a>( <a class="code" href="group__SI1133__I2C__Params.html#ga915f124a837b1993dd61ef660779d6b0">SI1133_PARAM_ADCCONFIG1</a>, 0x4d );</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a>( <a class="code" href="group__SI1133__I2C__Params.html#gaaa6427ee9e0bb3cc8edd2be87069f2f4">SI1133_PARAM_ADCSENS1</a>, 0xe1 );</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a>( <a class="code" href="group__SI1133__I2C__Params.html#gaa156257e640281f682e88f558c917864">SI1133_PARAM_ADCPOST1</a>, 0x40 );</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a>( <a class="code" href="group__SI1133__I2C__Params.html#ga386c51a51bfa9e80bf264a1ca3bec783">SI1133_PARAM_ADCCONFIG2</a>, 0x41 );</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a>( <a class="code" href="group__SI1133__I2C__Params.html#gadbf0ae98f8166eaa3d162ae1e507bf52">SI1133_PARAM_ADCSENS2</a>, 0xe1 );</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a>( <a class="code" href="group__SI1133__I2C__Params.html#ga68d8390b6752c5ef5deae08e31f59cfa">SI1133_PARAM_ADCPOST2</a>, 0x50 );</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a>( <a class="code" href="group__SI1133__I2C__Params.html#ga66ceb8b5c3435a37eaef9d4a7cc73da2">SI1133_PARAM_ADCCONFIG3</a>, 0x4d );</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a>( <a class="code" href="group__SI1133__I2C__Params.html#ga421f3d059782379530a2209557977734">SI1133_PARAM_ADCSENS3</a>, 0x87 );</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a>( <a class="code" href="group__SI1133__I2C__Params.html#ga976b7de2d1a6f29669d332a4f3e9eab9">SI1133_PARAM_ADCPOST3</a>, 0x40 );</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#ga09176007513c3f6aa9b47c886a7d80ef">SI1133_registerWrite</a>( <a class="code" href="group__SI1133__I2C__Regs.html#ga12252c0ae8ce132696430404c376767b">SI1133_REG_IRQ_ENABLE</a>, 0x0f );</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;}</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#gae0de3a67b5e50e7fdd7d113a3e414ecd">  621</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#gae0de3a67b5e50e7fdd7d113a3e414ecd">SI1133_deInit</a>( <span class="keywordtype">void</span> )</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;{</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;   uint32_t retval;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;   retval = <a class="code" href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a>( <a class="code" href="group__SI1133__I2C__Params.html#gac06518fa5c457741a106e7febcf1991f">SI1133_PARAM_CH_LIST</a>, 0x3f );</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#ga5997ee9ee8b42e71c0627052001dc93a">SI1133_measurementPause</a>();</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#gac694fcb552b3a25ed6505cb85aa2edbc">SI1133_waitUntilSleep</a>();</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;   <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;}</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#gabc1b7abe2d4139c60c61c9a5bc092e6f">  645</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#gabc1b7abe2d4139c60c61c9a5bc092e6f">SI1133_measurementGet</a>( <a class="code" href="structSI1133__Samples__TypeDef.html">SI1133_Samples_TypeDef</a> *samples )</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;{</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   uint8_t buffer[13];</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;   uint32_t retval;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;   retval = <a class="code" href="group__Si1133__Functions.html#ga4e3ed1cdf79dd1101efd6e1f3f21bbf6">SI1133_registerBlockRead</a>( <a class="code" href="group__SI1133__I2C__Regs.html#ga53f2dfbbf73dec485b96e8179f37e371">SI1133_REG_IRQ_STATUS</a>, 13, buffer );</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;   samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#ab3a898f733c59b9f5699950aab766b61">irq_status</a> = buffer[0];</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;   samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#a258503ad0d12e7412143ca952a673480">ch0</a> = buffer[1] &lt;&lt; 16;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;   samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#a258503ad0d12e7412143ca952a673480">ch0</a> |= buffer[2] &lt;&lt; 8;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;   samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#a258503ad0d12e7412143ca952a673480">ch0</a> |= buffer[3];</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;   <span class="keywordflow">if</span>( samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#a258503ad0d12e7412143ca952a673480">ch0</a> &amp; 0x800000 ) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#a258503ad0d12e7412143ca952a673480">ch0</a> |= 0xFF000000;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;   }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;   samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#af2451f45850cfa689582026fcc3d1372">ch1</a> = buffer[4] &lt;&lt; 16;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#af2451f45850cfa689582026fcc3d1372">ch1</a> |= buffer[5] &lt;&lt; 8;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;   samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#af2451f45850cfa689582026fcc3d1372">ch1</a> |= buffer[6];</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;   <span class="keywordflow">if</span>( samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#af2451f45850cfa689582026fcc3d1372">ch1</a> &amp; 0x800000 ) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#af2451f45850cfa689582026fcc3d1372">ch1</a> |= 0xFF000000;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;   }</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;   samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#aabda13e794ea8851313bcf67a71f5e6f">ch2</a> = buffer[7] &lt;&lt; 16;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;   samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#aabda13e794ea8851313bcf67a71f5e6f">ch2</a> |= buffer[8] &lt;&lt; 8;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#aabda13e794ea8851313bcf67a71f5e6f">ch2</a> |= buffer[9];</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;   <span class="keywordflow">if</span>( samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#aabda13e794ea8851313bcf67a71f5e6f">ch2</a> &amp; 0x800000 ) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#aabda13e794ea8851313bcf67a71f5e6f">ch2</a> |= 0xFF000000;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;   }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#aca968114bea085ede0302bb53581b9a8">ch3</a> = buffer[10] &lt;&lt; 16;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;   samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#aca968114bea085ede0302bb53581b9a8">ch3</a> |= buffer[11] &lt;&lt; 8;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;   samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#aca968114bea085ede0302bb53581b9a8">ch3</a> |= buffer[12];</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;   <span class="keywordflow">if</span>( samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#aca968114bea085ede0302bb53581b9a8">ch3</a> &amp; 0x800000 ) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      samples-&gt;<a class="code" href="structSI1133__Samples__TypeDef.html#aca968114bea085ede0302bb53581b9a8">ch3</a> |= 0xFF000000;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;   }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;   <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;}</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;int32_t SI1133_calcPolyInner( int32_t input, int8_t fraction, uint16_t mag, int8_t shift )</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;{</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;   int32_t value;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;   <span class="keywordflow">if</span>( shift &lt; 0 ) {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      value = ( ( input &lt;&lt; fraction ) / mag ) &gt;&gt; -shift;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;   }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      value = ( ( input &lt;&lt; fraction ) / mag ) &lt;&lt; shift;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;   }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;   <span class="keywordflow">return</span> value;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;}</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;int32_t SI1133_calcEvalPoly( int32_t x, int32_t y, uint8_t input_fraction, uint8_t output_fraction, uint8_t num_coeff, <a class="code" href="structSI1133__Coeff__TypeDef.html">SI1133_Coeff_TypeDef</a> *kp )</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;   uint8_t info, x_order, y_order, counter;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;   int8_t sign, shift;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;   uint16_t mag;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;   int32_t output = 0, x1, x2, y1, y2;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;   <span class="keywordflow">for</span>( counter = 0; counter &lt; num_coeff; counter++ ) {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      info = kp-&gt;<a class="code" href="structSI1133__Coeff__TypeDef.html#ab9b43e82e9c2bba0eb60828d3e6f2050">info</a>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      x_order = get_x_order( info );</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      y_order = get_y_order( info );</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      shift = ( (uint16_t) kp-&gt;<a class="code" href="structSI1133__Coeff__TypeDef.html#ab9b43e82e9c2bba0eb60828d3e6f2050">info</a> &amp; 0xff00 ) &gt;&gt; 8;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      shift ^= 0x00ff;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      shift += 1;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      shift = -shift;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      mag = kp-&gt;<a class="code" href="structSI1133__Coeff__TypeDef.html#ada62f712f8d6a5c0e1f23a76a85d2e0c">mag</a>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <span class="keywordflow">if</span>( get_sign( info ) ) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;         sign = -1;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      }</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;         sign = 1;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <span class="keywordflow">if</span>( ( x_order == 0 ) &amp;&amp; ( y_order == 0 ) ) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;         output += sign * mag &lt;&lt; output_fraction;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;         <span class="keywordflow">if</span>( x_order &gt; 0 ) {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            x1 = SI1133_calcPolyInner( x, input_fraction, mag, shift );</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            <span class="keywordflow">if</span>( x_order &gt; 1 ) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;               x2 = SI1133_calcPolyInner( x, input_fraction, mag, shift );</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            }</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;               x2 = 1;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;         }</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;         <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            x1 = 1;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            x2 = 1;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;         }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;         <span class="keywordflow">if</span>( y_order &gt; 0 ) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            y1 = SI1133_calcPolyInner( y, input_fraction, mag, shift );</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            <span class="keywordflow">if</span>( y_order &gt; 1 ) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;               y2 = SI1133_calcPolyInner( y, input_fraction, mag, shift );</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;               y2 = 1;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            }</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;         }</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;         <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            y1 = 1;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            y2 = 1;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;         }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;         output += sign * x1 * x2 * y1 * y2;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      kp++;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;   }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;   <span class="keywordflow">if</span>( output &lt; 0 ) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      output = -output;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;   }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;   <span class="keywordflow">return</span> output;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;}</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00805"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#ga7fef12f5306e26410665f8eb3b8d60d2">  805</a></span>&#160;int32_t <a class="code" href="group__Si1133__Functions.html#ga7fef12f5306e26410665f8eb3b8d60d2">SI1133_getUv</a>( int32_t uv, <a class="code" href="structSI1133__Coeff__TypeDef.html">SI1133_Coeff_TypeDef</a> *uk )</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;{</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;   int32_t uvi;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;   uvi = SI1133_calcEvalPoly( 0, uv, UV_INPUT_FRACTION, UV_OUTPUT_FRACTION, UV_NUMCOEFF, uk );</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;   <span class="keywordflow">return</span> uvi;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;}</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#gae4ee216e3c2b6273551676bbe9c683f1">  835</a></span>&#160;int32_t <a class="code" href="group__Si1133__Functions.html#gae4ee216e3c2b6273551676bbe9c683f1">SI1133_getLux</a>( int32_t vis_high, int32_t vis_low, int32_t ir, <a class="code" href="structSI1133__LuxCoeff__TypeDef.html">SI1133_LuxCoeff_TypeDef</a> *lk )</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;{</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;   int32_t lux;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;   <span class="keywordflow">if</span>( ( vis_high &gt; ADC_THRESHOLD ) || ( ir &gt; ADC_THRESHOLD ) ) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      lux = SI1133_calcEvalPoly( vis_high,</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;            ir,</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            INPUT_FRACTION_HIGH,</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;            LUX_OUTPUT_FRACTION,</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            NUMCOEFF_HIGH,</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            &amp;( lk-&gt;<a class="code" href="structSI1133__LuxCoeff__TypeDef.html#a48d5fc810a6190c183d296a490042505">coeff_high</a>[0] ) );</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;   }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      lux = SI1133_calcEvalPoly( vis_low,</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            ir,</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            INPUT_FRACTION_LOW,</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            LUX_OUTPUT_FRACTION,</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            NUMCOEFF_LOW,</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            &amp;( lk-&gt;<a class="code" href="structSI1133__LuxCoeff__TypeDef.html#a55cfb9f6297e482850a76393b5fd46e3">coeff_low</a>[0] ) );</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;   <span class="keywordflow">return</span> lux;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;}</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00874"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#ga040eca79cbe2d641a7d755631a98b73c">  874</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#ga040eca79cbe2d641a7d755631a98b73c">SI1133_measureLuxUvi</a>( <span class="keywordtype">float</span> *lux, <span class="keywordtype">float</span> *uvi )</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;{</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;   <a class="code" href="structSI1133__Samples__TypeDef.html">SI1133_Samples_TypeDef</a> samples;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;   uint32_t retval;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;   uint8_t response;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;   <span class="comment">/* Force measurement */</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;   retval = <a class="code" href="group__Si1133__Functions.html#ga9cc078ead4cc9630f8f865a3033e8ea1">SI1133_measurementForce</a>();</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;   <span class="comment">/* Go to sleep while the sensor does the conversion */</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;   <a class="code" href="group__Util__Functions.html#ga8d91c207f47d8992b40f1d02a1cb0f38">UTIL_delay</a>( 200 );</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;   <span class="comment">/* Check if the measurement finished, if not then wait */</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;   retval += <a class="code" href="group__Si1133__Functions.html#ga0a497f2bc99c7119bfbd1d1f505e0b72">SI1133_registerRead</a>( <a class="code" href="group__SI1133__I2C__Regs.html#ga53f2dfbbf73dec485b96e8179f37e371">SI1133_REG_IRQ_STATUS</a>, &amp;response );</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   <span class="keywordflow">while</span>( response != 0x0F )</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <a class="code" href="group__Util__Functions.html#ga8d91c207f47d8992b40f1d02a1cb0f38">UTIL_delay</a>( 5 );</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      retval += <a class="code" href="group__Si1133__Functions.html#ga0a497f2bc99c7119bfbd1d1f505e0b72">SI1133_registerRead</a>( <a class="code" href="group__SI1133__I2C__Regs.html#ga53f2dfbbf73dec485b96e8179f37e371">SI1133_REG_IRQ_STATUS</a>, &amp;response );</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;   }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;   <span class="comment">/* Get the results */</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;   <a class="code" href="group__Si1133__Functions.html#gabc1b7abe2d4139c60c61c9a5bc092e6f">SI1133_measurementGet</a>( &amp;samples );</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;   <span class="comment">/* Convert the readings to lux */</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   *lux = (float) <a class="code" href="group__Si1133__Functions.html#gae4ee216e3c2b6273551676bbe9c683f1">SI1133_getLux</a>( samples.<a class="code" href="structSI1133__Samples__TypeDef.html#af2451f45850cfa689582026fcc3d1372">ch1</a>, samples.<a class="code" href="structSI1133__Samples__TypeDef.html#aca968114bea085ede0302bb53581b9a8">ch3</a>, samples.<a class="code" href="structSI1133__Samples__TypeDef.html#aabda13e794ea8851313bcf67a71f5e6f">ch2</a>, &amp;lk );</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   *lux = *lux / ( 1 &lt;&lt; LUX_OUTPUT_FRACTION );</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;   <span class="comment">/* Convert the readings to UV index */</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;   *uvi = (float) <a class="code" href="group__Si1133__Functions.html#ga7fef12f5306e26410665f8eb3b8d60d2">SI1133_getUv</a>( samples.<a class="code" href="structSI1133__Samples__TypeDef.html#a258503ad0d12e7412143ca952a673480">ch0</a>, uk );</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;   *uvi = *uvi / ( 1 &lt;&lt; UV_OUTPUT_FRACTION );</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;   <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;}</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00920"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#ga62ae7ce206192eb3e953bf2a127de31b">  920</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#ga62ae7ce206192eb3e953bf2a127de31b">SI1133_getHardwareID</a>( uint8_t *hardwareID )</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;{</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   uint32_t retval;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;   retval = <a class="code" href="group__Si1133__Functions.html#ga0a497f2bc99c7119bfbd1d1f505e0b72">SI1133_registerRead</a>( <a class="code" href="group__SI1133__I2C__Regs.html#gabcec4f6b14d0721c27d64bc0e6a97534">SI1133_REG_PART_ID</a>, hardwareID );</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;}</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00945"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#gaa43328df65e51e24c65bac86a045dde7">  945</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#gaa43328df65e51e24c65bac86a045dde7">SI1133_getMeasurement</a>( <span class="keywordtype">float</span> *lux, <span class="keywordtype">float</span> *uvi )</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;{</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;   <a class="code" href="structSI1133__Samples__TypeDef.html">SI1133_Samples_TypeDef</a> samples;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;   uint32_t retval;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;   <span class="comment">/* Get the results */</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;   retval = <a class="code" href="group__Si1133__Functions.html#gabc1b7abe2d4139c60c61c9a5bc092e6f">SI1133_measurementGet</a>( &amp;samples );</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;   <span class="comment">/* Convert the readings to lux */</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;   *lux = (float) <a class="code" href="group__Si1133__Functions.html#gae4ee216e3c2b6273551676bbe9c683f1">SI1133_getLux</a>( samples.<a class="code" href="structSI1133__Samples__TypeDef.html#af2451f45850cfa689582026fcc3d1372">ch1</a>, samples.<a class="code" href="structSI1133__Samples__TypeDef.html#aca968114bea085ede0302bb53581b9a8">ch3</a>, samples.<a class="code" href="structSI1133__Samples__TypeDef.html#aabda13e794ea8851313bcf67a71f5e6f">ch2</a>, &amp;lk );</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;   *lux = *lux / ( 1 &lt;&lt; LUX_OUTPUT_FRACTION );</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   <span class="comment">/* Convert the readings to UV index */</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;   *uvi = (float) <a class="code" href="group__Si1133__Functions.html#ga7fef12f5306e26410665f8eb3b8d60d2">SI1133_getUv</a>( samples.<a class="code" href="structSI1133__Samples__TypeDef.html#a258503ad0d12e7412143ca952a673480">ch0</a>, uk );</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;   *uvi = *uvi / ( 1 &lt;&lt; UV_OUTPUT_FRACTION );</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;   <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;}</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment">/***************************************************************************/</span></div>
<div class="line"><a name="l00976"></a><span class="lineno"><a class="line" href="group__Si1133__Functions.html#gaf2772acba88aa0227a861bec9f31af99">  976</a></span>&#160;uint32_t <a class="code" href="group__Si1133__Functions.html#gaf2772acba88aa0227a861bec9f31af99">SI1133_getIrqStatus</a>( uint8_t *irqStatus )</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;{</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;   uint32_t retval;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;   <span class="comment">/* Read the IRQ status register */</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;   retval = <a class="code" href="group__Si1133__Functions.html#ga0a497f2bc99c7119bfbd1d1f505e0b72">SI1133_registerRead</a>( <a class="code" href="group__SI1133__I2C__Regs.html#ga53f2dfbbf73dec485b96e8179f37e371">SI1133_REG_IRQ_STATUS</a>, irqStatus );</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;   <span class="keywordflow">return</span> retval;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;}</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div>
<div class="ttc" id="group__Si1133__Functions_html_gaf2772acba88aa0227a861bec9f31af99"><div class="ttname"><a href="group__Si1133__Functions.html#gaf2772acba88aa0227a861bec9f31af99">SI1133_getIrqStatus</a></div><div class="ttdeci">uint32_t SI1133_getIrqStatus(uint8_t *irqStatus)</div><div class="ttdoc">Reads the interrupt status register of the device. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00976">si1133.c:976</a></div></div>
<div class="ttc" id="group__SI1133__Mask_html_ga9ffcc47797a0dae82cd57a77e45d32c5"><div class="ttname"><a href="group__SI1133__Mask.html#ga9ffcc47797a0dae82cd57a77e45d32c5">SI1133_RSP0_COUNTER_MASK</a></div><div class="ttdeci">#define SI1133_RSP0_COUNTER_MASK</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00235">si1133.h:235</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_gac694fcb552b3a25ed6505cb85aa2edbc"><div class="ttname"><a href="group__Si1133__Functions.html#gac694fcb552b3a25ed6505cb85aa2edbc">SI1133_waitUntilSleep</a></div><div class="ttdeci">static uint32_t SI1133_waitUntilSleep(void)</div><div class="ttdoc">Waits until the Si1133 is sleeping before proceeding. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00274">si1133.c:274</a></div></div>
<div class="ttc" id="si1133_8h_html"><div class="ttname"><a href="si1133_8h.html">si1133.h</a></div><div class="ttdoc">Driver for the Si1133 Ambient Light and UV sensor. </div></div>
<div class="ttc" id="group__I2CSPM_html_ga076766b20012fb6a0cdaaf0f2c760795"><div class="ttname"><a href="group__I2CSPM.html#ga076766b20012fb6a0cdaaf0f2c760795">I2CSPM_Transfer</a></div><div class="ttdeci">I2C_TransferReturn_TypeDef I2CSPM_Transfer(I2C_TypeDef *i2c, I2C_TransferSeq_TypeDef *seq)</div><div class="ttdoc">Perform I2C transfer. </div><div class="ttdef"><b>Definition:</b> <a href="i2cspm_8c_source.html#l00124">i2cspm.c:124</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_gae4ee216e3c2b6273551676bbe9c683f1"><div class="ttname"><a href="group__Si1133__Functions.html#gae4ee216e3c2b6273551676bbe9c683f1">SI1133_getLux</a></div><div class="ttdeci">int32_t SI1133_getLux(int32_t vis_high, int32_t vis_low, int32_t ir, SI1133_LuxCoeff_TypeDef *lk)</div><div class="ttdoc">Compute lux value. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00835">si1133.c:835</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_gad9c7a541cd5628c7badf7f3dd83fd74f"><div class="ttname"><a href="group__Si1133__Functions.html#gad9c7a541cd5628c7badf7f3dd83fd74f">SI1133_registerBlockWrite</a></div><div class="ttdeci">uint32_t SI1133_registerBlockWrite(uint8_t reg, uint8_t length, uint8_t *data)</div><div class="ttdoc">Writes a block of data to the Si1133 sensor. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00189">si1133.c:189</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_gacd28bea0163cda6082ae63ca2256ea09"><div class="ttname"><a href="group__Si1133__Functions.html#gacd28bea0163cda6082ae63ca2256ea09">SI1133_reset</a></div><div class="ttdeci">uint32_t SI1133_reset(void)</div><div class="ttdoc">Resets the Si1133. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00312">si1133.c:312</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Params_html_gac06518fa5c457741a106e7febcf1991f"><div class="ttname"><a href="group__SI1133__I2C__Params.html#gac06518fa5c457741a106e7febcf1991f">SI1133_PARAM_CH_LIST</a></div><div class="ttdeci">#define SI1133_PARAM_CH_LIST</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00171">si1133.h:171</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_ga62ae7ce206192eb3e953bf2a127de31b"><div class="ttname"><a href="group__Si1133__Functions.html#ga62ae7ce206192eb3e953bf2a127de31b">SI1133_getHardwareID</a></div><div class="ttdeci">uint32_t SI1133_getHardwareID(uint8_t *hardwareID)</div><div class="ttdoc">Reads Hardware ID from the SI1133 sensor. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00920">si1133.c:920</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Params_html_gac07c0b8281bcddd5afa5e58298c47315"><div class="ttname"><a href="group__SI1133__I2C__Params.html#gac07c0b8281bcddd5afa5e58298c47315">SI1133_PARAM_ADCPOST0</a></div><div class="ttdeci">#define SI1133_PARAM_ADCPOST0</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00174">si1133.h:174</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Params_html_gadbf0ae98f8166eaa3d162ae1e507bf52"><div class="ttname"><a href="group__SI1133__I2C__Params.html#gadbf0ae98f8166eaa3d162ae1e507bf52">SI1133_PARAM_ADCSENS2</a></div><div class="ttdeci">#define SI1133_PARAM_ADCSENS2</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00181">si1133.h:181</a></div></div>
<div class="ttc" id="group__Util__Functions_html_ga8d91c207f47d8992b40f1d02a1cb0f38"><div class="ttname"><a href="group__Util__Functions.html#ga8d91c207f47d8992b40f1d02a1cb0f38">UTIL_delay</a></div><div class="ttdeci">void UTIL_delay(uint32_t ms)</div><div class="ttdoc">Delays number of msTick Systicks (1 ms) </div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00097">util.c:97</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_ga4e3ed1cdf79dd1101efd6e1f3f21bbf6"><div class="ttname"><a href="group__Si1133__Functions.html#ga4e3ed1cdf79dd1101efd6e1f3f21bbf6">SI1133_registerBlockRead</a></div><div class="ttdeci">uint32_t SI1133_registerBlockRead(uint8_t reg, uint8_t length, uint8_t *data)</div><div class="ttdoc">Reads a block of data from the Si1133 sensor. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00238">si1133.c:238</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_ga25d29f15cc2ef5080c943e5ef7847cc3"><div class="ttname"><a href="group__Si1133__Functions.html#ga25d29f15cc2ef5080c943e5ef7847cc3">SI1133_sendCmd</a></div><div class="ttdeci">static uint32_t SI1133_sendCmd(uint8_t command)</div><div class="ttdoc">Helper function to send a command to the Si1133. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00341">si1133.c:341</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_gaa43328df65e51e24c65bac86a045dde7"><div class="ttname"><a href="group__Si1133__Functions.html#gaa43328df65e51e24c65bac86a045dde7">SI1133_getMeasurement</a></div><div class="ttdeci">uint32_t SI1133_getMeasurement(float *lux, float *uvi)</div><div class="ttdoc">Retrieve the sample values from the chip and convert them to lux and UV index values. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00945">si1133.c:945</a></div></div>
<div class="ttc" id="group__SI1133__Config__Settings_html_gab47434c1437803eb9e9f854e61dc5ebb"><div class="ttname"><a href="group__SI1133__Config__Settings.html#gab47434c1437803eb9e9f854e61dc5ebb">SI1133_I2C_DEVICE_BUS_ADDRESS</a></div><div class="ttdeci">#define SI1133_I2C_DEVICE_BUS_ADDRESS</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00063">si1133.h:63</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Regs_html_ga53f2dfbbf73dec485b96e8179f37e371"><div class="ttname"><a href="group__SI1133__I2C__Regs.html#ga53f2dfbbf73dec485b96e8179f37e371">SI1133_REG_IRQ_STATUS</a></div><div class="ttdeci">#define SI1133_REG_IRQ_STATUS</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00134">si1133.h:134</a></div></div>
<div class="ttc" id="group__SI1133__Config__Settings_html_ga13e80099498c10c2f7908107364ec300"><div class="ttname"><a href="group__SI1133__Config__Settings.html#ga13e80099498c10c2f7908107364ec300">SI1133_I2C_DEVICE</a></div><div class="ttdeci">#define SI1133_I2C_DEVICE</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00062">si1133.h:62</a></div></div>
<div class="ttc" id="group__SI1133__Mask_html_ga5c5fa6e8ea0a8d2d28e71eeeabfddf75"><div class="ttname"><a href="group__SI1133__Mask.html#ga5c5fa6e8ea0a8d2d28e71eeeabfddf75">SI1133_RSP0_SLEEP</a></div><div class="ttdeci">#define SI1133_RSP0_SLEEP</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00236">si1133.h:236</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Regs_html_ga6f82230fbc97b56a16932f13475cae75"><div class="ttname"><a href="group__SI1133__I2C__Regs.html#ga6f82230fbc97b56a16932f13475cae75">SI1133_REG_HOSTIN0</a></div><div class="ttdeci">#define SI1133_REG_HOSTIN0</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00129">si1133.h:129</a></div></div>
<div class="ttc" id="group__SI1133__Mask_html_ga034b9aaa4352f705fd892c93e8b44c20"><div class="ttname"><a href="group__SI1133__Mask.html#ga034b9aaa4352f705fd892c93e8b44c20">SI1133_RSP0_CHIPSTAT_MASK</a></div><div class="ttdeci">#define SI1133_RSP0_CHIPSTAT_MASK</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00234">si1133.h:234</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_gabc1b7abe2d4139c60c61c9a5bc092e6f"><div class="ttname"><a href="group__Si1133__Functions.html#gabc1b7abe2d4139c60c61c9a5bc092e6f">SI1133_measurementGet</a></div><div class="ttdeci">uint32_t SI1133_measurementGet(SI1133_Samples_TypeDef *samples)</div><div class="ttdoc">Read samples from the Si1133 chip. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00645">si1133.c:645</a></div></div>
<div class="ttc" id="group__I2C_html_ga091476f45133e8a6deb9dbd7a3ea6229"><div class="ttname"><a href="group__I2C.html#ga091476f45133e8a6deb9dbd7a3ea6229">I2C_FLAG_WRITE</a></div><div class="ttdeci">#define I2C_FLAG_WRITE</div><div class="ttdoc">Indicate plain write sequence: S+ADDR(W)+DATA0+P. </div><div class="ttdef"><b>Definition:</b> <a href="em__i2c_8h_source.html#l00124">em_i2c.h:124</a></div></div>
<div class="ttc" id="structSI1133__Coeff__TypeDef_html"><div class="ttname"><a href="structSI1133__Coeff__TypeDef.html">SI1133_Coeff_TypeDef</a></div><div class="ttdoc">Structure to store the calculation coefficients. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00102">si1133.h:102</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Regs_html_ga7ad4444836307c4d67bd4f8df8754e97"><div class="ttname"><a href="group__SI1133__I2C__Regs.html#ga7ad4444836307c4d67bd4f8df8754e97">SI1133_REG_RESPONSE0</a></div><div class="ttdeci">#define SI1133_REG_RESPONSE0</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00133">si1133.h:133</a></div></div>
<div class="ttc" id="group__I2C_html_ga7c781ec28ae11e3e28892de7aa07a00f"><div class="ttname"><a href="group__I2C.html#ga7c781ec28ae11e3e28892de7aa07a00f">I2C_TransferReturn_TypeDef</a></div><div class="ttdeci">I2C_TransferReturn_TypeDef</div><div class="ttdef"><b>Definition:</b> <a href="em__i2c_8h_source.html#l00179">em_i2c.h:179</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Regs_html_ga90d2a0ecadf5724e06b9c5937e921b75"><div class="ttname"><a href="group__SI1133__I2C__Regs.html#ga90d2a0ecadf5724e06b9c5937e921b75">SI1133_REG_COMMAND</a></div><div class="ttdeci">#define SI1133_REG_COMMAND</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00130">si1133.h:130</a></div></div>
<div class="ttc" id="group__BOARD__Functions_html_ga47b58f2a45201583b96f542353d4fdf9"><div class="ttname"><a href="group__BOARD__Functions.html#ga47b58f2a45201583b96f542353d4fdf9">BOARD_envSensEnable</a></div><div class="ttdeci">uint32_t BOARD_envSensEnable(bool enable)</div><div class="ttdoc">Enables or disables the environmental sensor group (Pressure, RH/Temp, UV/Ambient light and Hall sens...</div><div class="ttdef"><b>Definition:</b> <a href="board_8c_source.html#l00492">board.c:492</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Params_html_ga66ceb8b5c3435a37eaef9d4a7cc73da2"><div class="ttname"><a href="group__SI1133__I2C__Params.html#ga66ceb8b5c3435a37eaef9d4a7cc73da2">SI1133_PARAM_ADCCONFIG3</a></div><div class="ttdeci">#define SI1133_PARAM_ADCCONFIG3</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00184">si1133.h:184</a></div></div>
<div class="ttc" id="structSI1133__Samples__TypeDef_html"><div class="ttname"><a href="structSI1133__Samples__TypeDef.html">SI1133_Samples_TypeDef</a></div><div class="ttdoc">Structure to store the data measured by the Si1133. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00089">si1133.h:89</a></div></div>
<div class="ttc" id="group__I2C_html_gga7c781ec28ae11e3e28892de7aa07a00fa01149f9a11ada8a9b05e7104f873de66"><div class="ttname"><a href="group__I2C.html#gga7c781ec28ae11e3e28892de7aa07a00fa01149f9a11ada8a9b05e7104f873de66">i2cTransferDone</a></div><div class="ttdef"><b>Definition:</b> <a href="em__i2c_8h_source.html#l00185">em_i2c.h:185</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Params_html_gaaa6427ee9e0bb3cc8edd2be87069f2f4"><div class="ttname"><a href="group__SI1133__I2C__Params.html#gaaa6427ee9e0bb3cc8edd2be87069f2f4">SI1133_PARAM_ADCSENS1</a></div><div class="ttdeci">#define SI1133_PARAM_ADCSENS1</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00177">si1133.h:177</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Regs_html_ga12252c0ae8ce132696430404c376767b"><div class="ttname"><a href="group__SI1133__I2C__Regs.html#ga12252c0ae8ce132696430404c376767b">SI1133_REG_IRQ_ENABLE</a></div><div class="ttdeci">#define SI1133_REG_IRQ_ENABLE</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00131">si1133.h:131</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Params_html_ga421f3d059782379530a2209557977734"><div class="ttname"><a href="group__SI1133__I2C__Params.html#ga421f3d059782379530a2209557977734">SI1133_PARAM_ADCSENS3</a></div><div class="ttdeci">#define SI1133_PARAM_ADCSENS3</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00185">si1133.h:185</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Params_html_ga68d8390b6752c5ef5deae08e31f59cfa"><div class="ttname"><a href="group__SI1133__I2C__Params.html#ga68d8390b6752c5ef5deae08e31f59cfa">SI1133_PARAM_ADCPOST2</a></div><div class="ttdeci">#define SI1133_PARAM_ADCPOST2</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00182">si1133.h:182</a></div></div>
<div class="ttc" id="structI2C__TransferSeq__TypeDef_html_aa9eb709e67fbaa4acb9a4964ca5174cb"><div class="ttname"><a href="structI2C__TransferSeq__TypeDef.html#aa9eb709e67fbaa4acb9a4964ca5174cb">I2C_TransferSeq_TypeDef::flags</a></div><div class="ttdeci">uint16_t flags</div><div class="ttdef"><b>Definition:</b> <a href="em__i2c_8h_source.html#l00265">em_i2c.h:265</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Params_html_ga976b7de2d1a6f29669d332a4f3e9eab9"><div class="ttname"><a href="group__SI1133__I2C__Params.html#ga976b7de2d1a6f29669d332a4f3e9eab9">SI1133_PARAM_ADCPOST3</a></div><div class="ttdeci">#define SI1133_PARAM_ADCPOST3</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00186">si1133.h:186</a></div></div>
<div class="ttc" id="i2cspm_8h_html"><div class="ttname"><a href="i2cspm_8h.html">i2cspm.h</a></div><div class="ttdoc">I2C simple poll-based master mode driver for the DK/STK. </div></div>
<div class="ttc" id="structSI1133__LuxCoeff__TypeDef_html_a55cfb9f6297e482850a76393b5fd46e3"><div class="ttname"><a href="structSI1133__LuxCoeff__TypeDef.html#a55cfb9f6297e482850a76393b5fd46e3">SI1133_LuxCoeff_TypeDef::coeff_low</a></div><div class="ttdeci">SI1133_Coeff_TypeDef coeff_low[9]</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00115">si1133.h:115</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_gafa950eba7a9a6c887ab40bd46c6e55b3"><div class="ttname"><a href="group__Si1133__Functions.html#gafa950eba7a9a6c887ab40bd46c6e55b3">SI1133_paramSet</a></div><div class="ttdeci">uint32_t SI1133_paramSet(uint8_t address, uint8_t value)</div><div class="ttdoc">Writes a byte to an Si1133 Parameter. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00509">si1133.c:509</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_ga0a497f2bc99c7119bfbd1d1f505e0b72"><div class="ttname"><a href="group__Si1133__Functions.html#ga0a497f2bc99c7119bfbd1d1f505e0b72">SI1133_registerRead</a></div><div class="ttdeci">uint32_t SI1133_registerRead(uint8_t reg, uint8_t *data)</div><div class="ttdoc">Reads register from the Si1133 sensor. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00100">si1133.c:100</a></div></div>
<div class="ttc" id="structI2C__TransferSeq__TypeDef_html_a92b6d16d6d3b3e4d5650740fa306a285"><div class="ttname"><a href="structI2C__TransferSeq__TypeDef.html#a92b6d16d6d3b3e4d5650740fa306a285">I2C_TransferSeq_TypeDef::len</a></div><div class="ttdeci">uint16_t len</div><div class="ttdef"><b>Definition:</b> <a href="em__i2c_8h_source.html#l00283">em_i2c.h:283</a></div></div>
<div class="ttc" id="structI2C__TransferSeq__TypeDef_html_ac50f3e038b429e01fd5b2bdfede2f674"><div class="ttname"><a href="structI2C__TransferSeq__TypeDef.html#ac50f3e038b429e01fd5b2bdfede2f674">I2C_TransferSeq_TypeDef::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="em__i2c_8h_source.html#l00274">em_i2c.h:274</a></div></div>
<div class="ttc" id="util_8h_html"><div class="ttname"><a href="util_8h.html">util.h</a></div><div class="ttdoc">Utility Functions for the Thunderboard Sense. </div></div>
<div class="ttc" id="group__SI1133__Commands_html_gae6024493020546b00f8cce0beccdf0be"><div class="ttname"><a href="group__SI1133__Commands.html#gae6024493020546b00f8cce0beccdf0be">SI1133_CMD_RESET_CMD_CTR</a></div><div class="ttdeci">#define SI1133_CMD_RESET_CMD_CTR</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00217">si1133.h:217</a></div></div>
<div class="ttc" id="structI2C__TransferSeq__TypeDef_html_a8768a91a4d0d3c66e72e8fdb981b5c63"><div class="ttname"><a href="structI2C__TransferSeq__TypeDef.html#a8768a91a4d0d3c66e72e8fdb981b5c63">I2C_TransferSeq_TypeDef::buf</a></div><div class="ttdeci">struct I2C_TransferSeq_TypeDef::@0 buf[2]</div></div>
<div class="ttc" id="group__Si1133__Functions_html_ga040eca79cbe2d641a7d755631a98b73c"><div class="ttname"><a href="group__Si1133__Functions.html#ga040eca79cbe2d641a7d755631a98b73c">SI1133_measureLuxUvi</a></div><div class="ttdeci">uint32_t SI1133_measureLuxUvi(float *lux, float *uvi)</div><div class="ttdoc">Measure lux and UV index using the Si1133 sensor. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00874">si1133.c:874</a></div></div>
<div class="ttc" id="structSI1133__Coeff__TypeDef_html_ab9b43e82e9c2bba0eb60828d3e6f2050"><div class="ttname"><a href="structSI1133__Coeff__TypeDef.html#ab9b43e82e9c2bba0eb60828d3e6f2050">SI1133_Coeff_TypeDef::info</a></div><div class="ttdeci">int16_t info</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00104">si1133.h:104</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_ga50f561c2b5e41f9a5f0fe6a86f879571"><div class="ttname"><a href="group__Si1133__Functions.html#ga50f561c2b5e41f9a5f0fe6a86f879571">SI1133_resetCmdCtr</a></div><div class="ttdeci">uint32_t SI1133_resetCmdCtr(void)</div><div class="ttdoc">Sends a RESET COMMAND COUNTER command to the Si1133. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00424">si1133.c:424</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_ga7fef12f5306e26410665f8eb3b8d60d2"><div class="ttname"><a href="group__Si1133__Functions.html#ga7fef12f5306e26410665f8eb3b8d60d2">SI1133_getUv</a></div><div class="ttdeci">int32_t SI1133_getUv(int32_t uv, SI1133_Coeff_TypeDef *uk)</div><div class="ttdoc">Compute UV index. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00805">si1133.c:805</a></div></div>
<div class="ttc" id="structSI1133__LuxCoeff__TypeDef_html"><div class="ttname"><a href="structSI1133__LuxCoeff__TypeDef.html">SI1133_LuxCoeff_TypeDef</a></div><div class="ttdoc">Structure to store the coefficients used for Lux calculation. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00112">si1133.h:112</a></div></div>
<div class="ttc" id="group__SI1133__Commands_html_gab24df6d2bce920d10b19a02e24e4ed27"><div class="ttname"><a href="group__SI1133__Commands.html#gab24df6d2bce920d10b19a02e24e4ed27">SI1133_CMD_RESET</a></div><div class="ttdeci">#define SI1133_CMD_RESET</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00218">si1133.h:218</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_ga9cc078ead4cc9630f8f865a3033e8ea1"><div class="ttname"><a href="group__Si1133__Functions.html#ga9cc078ead4cc9630f8f865a3033e8ea1">SI1133_measurementForce</a></div><div class="ttdeci">uint32_t SI1133_measurementForce(void)</div><div class="ttdoc">Sends a FORCE command to the Si1133. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00438">si1133.c:438</a></div></div>
<div class="ttc" id="structSI1133__Samples__TypeDef_html_aabda13e794ea8851313bcf67a71f5e6f"><div class="ttname"><a href="structSI1133__Samples__TypeDef.html#aabda13e794ea8851313bcf67a71f5e6f">SI1133_Samples_TypeDef::ch2</a></div><div class="ttdeci">int32_t ch2</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00094">si1133.h:94</a></div></div>
<div class="ttc" id="structI2C__TransferSeq__TypeDef_html"><div class="ttname"><a href="structI2C__TransferSeq__TypeDef.html">I2C_TransferSeq_TypeDef</a></div><div class="ttdoc">Master mode transfer message structure used to define a complete I2C transfer sequence (from start to...</div><div class="ttdef"><b>Definition:</b> <a href="em__i2c_8h_source.html#l00252">em_i2c.h:252</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Regs_html_ga0f5a815502e14969c6e189cfc71324d0"><div class="ttname"><a href="group__SI1133__I2C__Regs.html#ga0f5a815502e14969c6e189cfc71324d0">SI1133_REG_RESPONSE1</a></div><div class="ttdeci">#define SI1133_REG_RESPONSE1</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00132">si1133.h:132</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_gad325078d36b0f1f95fafec4abe0b7d0b"><div class="ttname"><a href="group__Si1133__Functions.html#gad325078d36b0f1f95fafec4abe0b7d0b">SI1133_measurementStart</a></div><div class="ttdeci">uint32_t SI1133_measurementStart(void)</div><div class="ttdoc">Sends a START command to the Si1133. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00452">si1133.c:452</a></div></div>
<div class="ttc" id="group__SI1133__Commands_html_ga9088b4044bad83a93978c5f6d1b90c3f"><div class="ttname"><a href="group__SI1133__Commands.html#ga9088b4044bad83a93978c5f6d1b90c3f">SI1133_CMD_START</a></div><div class="ttdeci">#define SI1133_CMD_START</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00222">si1133.h:222</a></div></div>
<div class="ttc" id="structSI1133__Samples__TypeDef_html_a258503ad0d12e7412143ca952a673480"><div class="ttname"><a href="structSI1133__Samples__TypeDef.html#a258503ad0d12e7412143ca952a673480">SI1133_Samples_TypeDef::ch0</a></div><div class="ttdeci">int32_t ch0</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00092">si1133.h:92</a></div></div>
<div class="ttc" id="group__SI1133__Error__Messages_html_ga20749b9438f2c41659d91a8c2596fea5"><div class="ttname"><a href="group__SI1133__Error__Messages.html#ga20749b9438f2c41659d91a8c2596fea5">SI1133_ERROR_I2C_TRANSACTION_FAILED</a></div><div class="ttdeci">#define SI1133_ERROR_I2C_TRANSACTION_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00074">si1133.h:74</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Params_html_ga915f124a837b1993dd61ef660779d6b0"><div class="ttname"><a href="group__SI1133__I2C__Params.html#ga915f124a837b1993dd61ef660779d6b0">SI1133_PARAM_ADCCONFIG1</a></div><div class="ttdeci">#define SI1133_PARAM_ADCCONFIG1</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00176">si1133.h:176</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_ga2d6c66ba40f3fb59bc83372acf4732f8"><div class="ttname"><a href="group__Si1133__Functions.html#ga2d6c66ba40f3fb59bc83372acf4732f8">SI1133_paramRead</a></div><div class="ttdeci">uint32_t SI1133_paramRead(uint8_t address)</div><div class="ttdoc">Reads a parameter from the Si1133. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00469">si1133.c:469</a></div></div>
<div class="ttc" id="group__SI1133__Error__Messages_html_ga2f5bec2017ec73b35307c5b633b60103"><div class="ttname"><a href="group__SI1133__Error__Messages.html#ga2f5bec2017ec73b35307c5b633b60103">SI1133_OK</a></div><div class="ttdeci">#define SI1133_OK</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00073">si1133.h:73</a></div></div>
<div class="ttc" id="group__SI1133__Commands_html_gacccb3d279397dac2480abbf70ca20e01"><div class="ttname"><a href="group__SI1133__Commands.html#gacccb3d279397dac2480abbf70ca20e01">SI1133_CMD_PAUSE_CH</a></div><div class="ttdeci">#define SI1133_CMD_PAUSE_CH</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00221">si1133.h:221</a></div></div>
<div class="ttc" id="structSI1133__Samples__TypeDef_html_ab3a898f733c59b9f5699950aab766b61"><div class="ttname"><a href="structSI1133__Samples__TypeDef.html#ab3a898f733c59b9f5699950aab766b61">SI1133_Samples_TypeDef::irq_status</a></div><div class="ttdeci">uint8_t irq_status</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00091">si1133.h:91</a></div></div>
<div class="ttc" id="group__I2C_html_gaf9fc47d6ee1c66405dc491f7a4c3b8fc"><div class="ttname"><a href="group__I2C.html#gaf9fc47d6ee1c66405dc491f7a4c3b8fc">I2C_FLAG_WRITE_READ</a></div><div class="ttdeci">#define I2C_FLAG_WRITE_READ</div><div class="ttdoc">Indicate combined write/read sequence: S+ADDR(W)+DATA0+Sr+ADDR(R)+DATA1+P. </div><div class="ttdef"><b>Definition:</b> <a href="em__i2c_8h_source.html#l00148">em_i2c.h:148</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_ga00900e2ef57db16983d71946d5c874ae"><div class="ttname"><a href="group__Si1133__Functions.html#ga00900e2ef57db16983d71946d5c874ae">SI1133_init</a></div><div class="ttdeci">uint32_t SI1133_init(void)</div><div class="ttdoc">Initializes the Si1133 chip. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00578">si1133.c:578</a></div></div>
<div class="ttc" id="group__SI1133__Error__Messages_html_ga7838493740f6b650060b19156ed2e1a2"><div class="ttname"><a href="group__SI1133__Error__Messages.html#ga7838493740f6b650060b19156ed2e1a2">SI1133_ERROR_SLEEP_FAILED</a></div><div class="ttdeci">#define SI1133_ERROR_SLEEP_FAILED</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00075">si1133.h:75</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Params_html_gaea881b9cee15235774456633d625f4a0"><div class="ttname"><a href="group__SI1133__I2C__Params.html#gaea881b9cee15235774456633d625f4a0">SI1133_PARAM_ADCCONFIG0</a></div><div class="ttdeci">#define SI1133_PARAM_ADCCONFIG0</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00172">si1133.h:172</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_ga5997ee9ee8b42e71c0627052001dc93a"><div class="ttname"><a href="group__Si1133__Functions.html#ga5997ee9ee8b42e71c0627052001dc93a">SI1133_measurementPause</a></div><div class="ttdeci">static uint32_t SI1133_measurementPause(void)</div><div class="ttdoc">Sends a PAUSE command to the Si1133. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00564">si1133.c:564</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Params_html_gaa156257e640281f682e88f558c917864"><div class="ttname"><a href="group__SI1133__I2C__Params.html#gaa156257e640281f682e88f558c917864">SI1133_PARAM_ADCPOST1</a></div><div class="ttdeci">#define SI1133_PARAM_ADCPOST1</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00178">si1133.h:178</a></div></div>
<div class="ttc" id="structSI1133__LuxCoeff__TypeDef_html_a48d5fc810a6190c183d296a490042505"><div class="ttname"><a href="structSI1133__LuxCoeff__TypeDef.html#a48d5fc810a6190c183d296a490042505">SI1133_LuxCoeff_TypeDef::coeff_high</a></div><div class="ttdeci">SI1133_Coeff_TypeDef coeff_high[4]</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00114">si1133.h:114</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Params_html_ga386c51a51bfa9e80bf264a1ca3bec783"><div class="ttname"><a href="group__SI1133__I2C__Params.html#ga386c51a51bfa9e80bf264a1ca3bec783">SI1133_PARAM_ADCCONFIG2</a></div><div class="ttdeci">#define SI1133_PARAM_ADCCONFIG2</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00180">si1133.h:180</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Params_html_ga884372117a985d5d774bcb6698546242"><div class="ttname"><a href="group__SI1133__I2C__Params.html#ga884372117a985d5d774bcb6698546242">SI1133_PARAM_ADCSENS0</a></div><div class="ttdeci">#define SI1133_PARAM_ADCSENS0</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00173">si1133.h:173</a></div></div>
<div class="ttc" id="structI2C__TransferSeq__TypeDef_html_a864fcee4abd27c2dab5723c2d2493ed0"><div class="ttname"><a href="structI2C__TransferSeq__TypeDef.html#a864fcee4abd27c2dab5723c2d2493ed0">I2C_TransferSeq_TypeDef::addr</a></div><div class="ttdeci">uint16_t addr</div><div class="ttdoc">Address to use after (repeated) start. </div><div class="ttdef"><b>Definition:</b> <a href="em__i2c_8h_source.html#l00262">em_i2c.h:262</a></div></div>
<div class="ttc" id="structSI1133__Samples__TypeDef_html_aca968114bea085ede0302bb53581b9a8"><div class="ttname"><a href="structSI1133__Samples__TypeDef.html#aca968114bea085ede0302bb53581b9a8">SI1133_Samples_TypeDef::ch3</a></div><div class="ttdeci">int32_t ch3</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00095">si1133.h:95</a></div></div>
<div class="ttc" id="board_8h_html"><div class="ttname"><a href="board_8h.html">board.h</a></div><div class="ttdoc">BOARD module header file. </div></div>
<div class="ttc" id="structSI1133__Samples__TypeDef_html_af2451f45850cfa689582026fcc3d1372"><div class="ttname"><a href="structSI1133__Samples__TypeDef.html#af2451f45850cfa689582026fcc3d1372">SI1133_Samples_TypeDef::ch1</a></div><div class="ttdeci">int32_t ch1</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00093">si1133.h:93</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_ga09176007513c3f6aa9b47c886a7d80ef"><div class="ttname"><a href="group__Si1133__Functions.html#ga09176007513c3f6aa9b47c886a7d80ef">SI1133_registerWrite</a></div><div class="ttdeci">uint32_t SI1133_registerWrite(uint8_t reg, uint8_t data)</div><div class="ttdoc">Writes register in the Si1133 sensor. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00143">si1133.c:143</a></div></div>
<div class="ttc" id="structSI1133__Coeff__TypeDef_html_ada62f712f8d6a5c0e1f23a76a85d2e0c"><div class="ttname"><a href="structSI1133__Coeff__TypeDef.html#ada62f712f8d6a5c0e1f23a76a85d2e0c">SI1133_Coeff_TypeDef::mag</a></div><div class="ttdeci">uint16_t mag</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00105">si1133.h:105</a></div></div>
<div class="ttc" id="group__Si1133__Functions_html_gae0de3a67b5e50e7fdd7d113a3e414ecd"><div class="ttname"><a href="group__Si1133__Functions.html#gae0de3a67b5e50e7fdd7d113a3e414ecd">SI1133_deInit</a></div><div class="ttdeci">uint32_t SI1133_deInit(void)</div><div class="ttdoc">Stops the measurements on all channel and waits until the chip goes to sleep state. </div><div class="ttdef"><b>Definition:</b> <a href="si1133_8c_source.html#l00621">si1133.c:621</a></div></div>
<div class="ttc" id="group__SI1133__Commands_html_ga5e4b43179ebf9e4dc62c419532bca147"><div class="ttname"><a href="group__SI1133__Commands.html#ga5e4b43179ebf9e4dc62c419532bca147">SI1133_CMD_FORCE_CH</a></div><div class="ttdeci">#define SI1133_CMD_FORCE_CH</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00220">si1133.h:220</a></div></div>
<div class="ttc" id="group__SI1133__I2C__Regs_html_gabcec4f6b14d0721c27d64bc0e6a97534"><div class="ttname"><a href="group__SI1133__I2C__Regs.html#gabcec4f6b14d0721c27d64bc0e6a97534">SI1133_REG_PART_ID</a></div><div class="ttdeci">#define SI1133_REG_PART_ID</div><div class="ttdef"><b>Definition:</b> <a href="si1133_8h_source.html#l00126">si1133.h:126</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_47b141814df81f488c4f7eaff9a67e18.html">hardware</a></li><li class="navelem"><a class="el" href="dir_af96359f81902c5c0c02a782680fb1d9.html">kit</a></li><li class="navelem"><a class="el" href="dir_5d4a48348b1da31968333dd38c7667cf.html">common</a></li><li class="navelem"><a class="el" href="dir_3e04ba8f218ed53a3ee016a950b479cb.html">bsp</a></li><li class="navelem"><a class="el" href="dir_5cc8de40f40a2d288158d80f3858cae7.html">thunderboard</a></li><li class="navelem"><a class="el" href="si1133_8c.html">si1133.c</a></li>
    <li class="footer">Generated on Thu Mar 9 2017 20:38:47 for EFM32 Wonder Gecko Software Documentation by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
